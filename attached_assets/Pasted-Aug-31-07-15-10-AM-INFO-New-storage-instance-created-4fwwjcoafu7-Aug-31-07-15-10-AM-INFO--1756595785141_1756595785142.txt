Aug 31, 07:15:10 AM: INFO   üÜî New storage instance created: 4fwwjcoafu7
Aug 31, 07:15:10 AM: INFO   üîÑ Initializing storage instance: 4fwwjcoafu7
Aug 31, 07:15:10 AM: 80879c2e INFO   üöÄ Netlify function invoked: {
  method: 'GET',
  path: '/api/auth/me',
  headers: [
    'accept',
    'accept-encoding',
    'accept-language',
    'authorization',
    'cdn-loop',
    'host',
    'netlify-agent-category',
    'netlify-invocation-source',
    'priority',
    'referer',
    'sec-ch-ua',
    'sec-ch-ua-mobile',
    'sec-ch-ua-platform',
    'sec-fetch-dest',
    'sec-fetch-mode',
    'sec-fetch-site',
    'traceparent',
    'user-agent',
    'x-country',
    'x-forwarded-for',
    'x-forwarded-proto',
    'x-language',
    'x-nf-account-id',
    'x-nf-account-tier',
    'x-nf-client-connection-ip',
    'x-nf-deploy-context',
    'x-nf-deploy-id',
    'x-nf-deploy-published',
    'x-nf-geo',
    'x-nf-request-id',
    'x-nf-request-start',
    'x-nf-site-id',
    'x-nf-trace-span-id'
  ],
  bodyLength: 0,
  timestamp: '2025-08-30T23:15:10.342Z'
}
Aug 31, 07:15:10 AM: 80879c2e INFO   Serverless function called: GET /api/auth/me
Aug 31, 07:15:10 AM: 80879c2e INFO   Processing: GET /api/auth/me
Aug 31, 07:15:10 AM: 80879c2e INFO   TOKEN VALIDATION: Checking token data: {
  hasId: true,
  hasUsername: true,
  isValid: true,
  loginTime: 1756595133193
}
Aug 31, 07:15:10 AM: 80879c2e INFO   üîç Environment check: {
  hasDatabaseUrl: true,
  urlLength: 116,
  urlStart: 'postgresql://neondb_'
}
Aug 31, 07:15:10 AM: 80879c2e INFO   üîå Attempting to connect to Neon database via HTTP...
Aug 31, 07:15:10 AM: 80879c2e INFO   üß™ Testing database connection...
Aug 31, 07:15:12 AM: 80879c2e INFO   ‚úÖ Database connection test successful: { current_time: 2025-08-30T23:15:12.924Z }
Aug 31, 07:15:12 AM: 80879c2e INFO   üîç Verifying contact_messages table exists...
Aug 31, 07:15:12 AM: 80879c2e INFO   üîç Executing query: {
  sql: '\n' +
    '      SELECT EXISTS (\n' +
    '        SELECT FROM information_schema.tables \n' +
    "        WHERE table_schema = '...",
  paramCount: 0
}
Aug 31, 07:15:13 AM: 80879c2e INFO   ‚úÖ Query successful, rows returned: 1
Aug 31, 07:15:13 AM: 80879c2e INFO   üìä Table existence check: { exists: true }
Aug 31, 07:15:13 AM: 80879c2e INFO   üîç Verifying users table exists...
Aug 31, 07:15:13 AM: 80879c2e INFO   üîç Executing query: {
  sql: '\n' +
    '      SELECT EXISTS (\n' +
    '        SELECT FROM information_schema.tables \n' +
    "        WHERE table_schema = '...",
  paramCount: 0
}
Aug 31, 07:15:13 AM: 80879c2e INFO   ‚úÖ Query successful, rows returned: 1
Aug 31, 07:15:13 AM: 80879c2e INFO   üìä Users table existence check: { exists: true }
Aug 31, 07:15:13 AM: 80879c2e INFO   ‚úÖ Database connection established and verified
Aug 31, 07:15:13 AM: 80879c2e INFO   üîç Executing query: { sql: 'SELECT * FROM users WHERE id = $1...', paramCount: 1 }
Aug 31, 07:15:13 AM: 80879c2e INFO   ‚úÖ Query successful, rows returned: 1
Aug 31, 07:15:13 AM: 80879c2e Duration: 2764.86 ms	Memory Usage: 100 MB
Aug 31, 07:15:13 AM: 7c973d81 INFO   üöÄ Netlify function invoked: {
  method: 'GET',
  path: '/api/auth/me',
  headers: [
    'accept',
    'accept-encoding',
    'accept-language',
    'authorization',
    'cdn-loop',
    'host',
    'netlify-agent-category',
    'netlify-invocation-source',
    'priority',
    'referer',
    'sec-ch-ua',
    'sec-ch-ua-mobile',
    'sec-ch-ua-platform',
    'sec-fetch-dest',
    'sec-fetch-mode',
    'sec-fetch-site',
    'traceparent',
    'user-agent',
    'x-country',
    'x-forwarded-for',
    'x-forwarded-proto',
    'x-language',
    'x-nf-account-id',
    'x-nf-account-tier',
    'x-nf-client-connection-ip',
    'x-nf-deploy-context',
    'x-nf-deploy-id',
    'x-nf-deploy-published',
    'x-nf-geo',
    'x-nf-request-id',
    'x-nf-request-start',
    'x-nf-site-id',
    'x-nf-trace-span-id'
  ],
  bodyLength: 0,
  timestamp: '2025-08-30T23:15:13.754Z'
}
Aug 31, 07:15:13 AM: 7c973d81 INFO   Serverless function called: GET /api/auth/me
Aug 31, 07:15:13 AM: 7c973d81 INFO   Processing: GET /api/auth/me
Aug 31, 07:15:13 AM: 7c973d81 INFO   TOKEN VALIDATION: Checking token data: {
  hasId: true,
  hasUsername: true,
  isValid: true,
  loginTime: 1756595133193
}
Aug 31, 07:15:13 AM: 7c973d81 INFO   üîç Executing query: { sql: 'SELECT * FROM users WHERE id = $1...', paramCount: 1 }
Aug 31, 07:15:13 AM: 7c973d81 INFO   ‚úÖ Query successful, rows returned: 1
Aug 31, 07:15:14 AM: 7c973d81 Duration: 319.68 ms	Memory Usage: 129 MB
Aug 31, 07:15:14 AM: e82373df INFO   üöÄ Netlify function invoked: {
  method: 'GET',
  path: '/api/contact-messages',
  headers: [
    'accept',
    'accept-encoding',
    'accept-language',
    'authorization',
    'cdn-loop',
    'host',
    'netlify-agent-category',
    'netlify-invocation-source',
    'priority',
    'referer',
    'sec-ch-ua',
    'sec-ch-ua-mobile',
    'sec-ch-ua-platform',
    'sec-fetch-dest',
    'sec-fetch-mode',
    'sec-fetch-site',
    'traceparent',
    'user-agent',
    'x-country',
    'x-forwarded-for',
    'x-forwarded-proto',
    'x-language',
    'x-nf-account-id',
    'x-nf-account-tier',
    'x-nf-client-connection-ip',
    'x-nf-deploy-context',
    'x-nf-deploy-id',
    'x-nf-deploy-published',
    'x-nf-geo',
    'x-nf-request-id',
    'x-nf-request-start',
    'x-nf-site-id',
    'x-nf-trace-span-id'
  ],
  bodyLength: 0,
  timestamp: '2025-08-30T23:15:14.418Z'
}
Aug 31, 07:15:14 AM: e82373df INFO   Serverless function called: GET /api/contact-messages
Aug 31, 07:15:14 AM: e82373df INFO   Processing: GET /api/contact-messages
Aug 31, 07:15:14 AM: e82373df INFO   üîç Starting message retrieval process...
Aug 31, 07:15:14 AM: e82373df INFO   üìñ Fetching contact messages from Neon database
Aug 31, 07:15:14 AM: e82373df INFO   üîç Executing query: {
  sql: 'SELECT COUNT(*) as count FROM contact_messages...',
  paramCount: 0
}
Aug 31, 07:15:14 AM: e82373df INFO   ‚úÖ Query successful, rows returned: 1
Aug 31, 07:15:14 AM: e82373df INFO   üìä Database row count: 3
Aug 31, 07:15:14 AM: e82373df INFO   üîç Executing query: {
  sql: '\n' +
    '      SELECT id, first_name as "firstName", last_name as "lastName", \n' +
    '             email, phone, su...',
  paramCount: 0
}
Aug 31, 07:15:14 AM: e82373df INFO   ‚úÖ Query successful, rows returned: 3
Aug 31, 07:15:14 AM: e82373df INFO   ‚úÖ Retrieved 3 messages from database: [
  {
    id: '7fffc1c9-7609-451b-8a14-80e8620a4cf1',
    from: 'danielreignelomedaaustria@gmail.com',
    subject: 'visit',
    createdAt: 2025-08-30T23:07:20.315Z
  },
  {
    id: '76cb500c-31e9-46e5-ab07-b4351bad18de',
    from: 'danielreignelomedaaustria@gmail.com',
    subject: 'visit',
    createdAt: 2025-08-30T19:09:43.779Z
  },
  {
    id: 'b94fe661-d7c6-4f69-a10e-828918a30f97',
    from: 'danielreignelomedaaustria@gmail.com',
    subject: 'pastoral',
    createdAt: 2025-08-29T23:17:07.957Z
  }
]
Aug 31, 07:15:14 AM: e82373df INFO   üìä Messages retrieved: {
  count: 3,
  source: 'database',
  firstMessage: {
    id: '7fffc1c9-7609-451b-8a14-80e8620a4cf1',
    from: 'danielreignelomedaaustria@gmail.com',
    subject: 'visit'
  }
}
Aug 31, 07:15:14 AM: e82373df INFO   üìñ GET /contact-messages - Reading from database: {
  totalMessages: 3,
  messageIds: [
    {
      id: '7fffc1c9-7609-451b-8a14-80e8620a4cf1',
      from: 'danielreignelomedaaustria@gmail.com'
    },
    {
      id: '76cb500c-31e9-46e5-ab07-b4351bad18de',
      from: 'danielreignelomedaaustria@gmail.com'
    },
    {
      id: 'b94fe661-d7c6-4f69-a10e-828918a30f97',
      from: 'danielreignelomedaaustria@gmail.com'
    }
  ],
  sortedCount: 3,
  latest: 2025-08-30T23:07:20.315Z,
  source: 'database'
}
Aug 31, 07:15:14 AM: e82373df Duration: 25.37 ms	Memory Usage: 129 MB
Aug 31, 07:15:14 AM: 5fb7125b INFO   üöÄ Netlify function invoked: {
  method: 'GET',
  path: '/api/users',
  headers: [
    'accept',
    'accept-encoding',
    'accept-language',
    'authorization',
    'cdn-loop',
    'host',
    'netlify-agent-category',
    'netlify-invocation-source',
    'priority',
    'referer',
    'sec-ch-ua',
    'sec-ch-ua-mobile',
    'sec-ch-ua-platform',
    'sec-fetch-dest',
    'sec-fetch-mode',
    'sec-fetch-site',
    'traceparent',
    'user-agent',
    'x-country',
    'x-forwarded-for',
    'x-forwarded-proto',
    'x-language',
    'x-nf-account-id',
    'x-nf-account-tier',
    'x-nf-client-connection-ip',
    'x-nf-deploy-context',
    'x-nf-deploy-id',
    'x-nf-deploy-published',
    'x-nf-geo',
    'x-nf-request-id',
    'x-nf-request-start',
    'x-nf-site-id',
    'x-nf-trace-span-id'
  ],
  bodyLength: 0,
  timestamp: '2025-08-30T23:15:14.450Z'
}
Aug 31, 07:15:14 AM: 5fb7125b INFO   Serverless function called: GET /api/users
Aug 31, 07:15:14 AM: 5fb7125b INFO   Processing: GET /api/users
Aug 31, 07:15:14 AM: 5fb7125b INFO   üìñ Fetching users from database...
Aug 31, 07:15:14 AM: 5fb7125b INFO   üîç Executing query: {
  sql: '\n' +
    '          SELECT id, username\n' +
    '          FROM users\n' +
    '          ORDER BY username\n' +
    '        ...',
  paramCount: 0
}
Aug 31, 07:15:14 AM: 5fb7125b INFO   ‚úÖ Query successful, rows returned: 1
Aug 31, 07:15:14 AM: 5fb7125b INFO   ‚úÖ Retrieved 1 users from database
Aug 31, 07:15:14 AM: 5fb7125b Duration: 8.18 ms	Memory Usage: 129 MB
Aug 31, 07:15:14 AM: 5611933e INFO   üöÄ Netlify function invoked: {
  method: 'GET',
  path: '/api/auth/me',
  headers: [
    'accept',
    'accept-encoding',
    'accept-language',
    'authorization',
    'cdn-loop',
    'host',
    'netlify-agent-category',
    'netlify-invocation-source',
    'priority',
    'referer',
    'sec-ch-ua',
    'sec-ch-ua-mobile',
    'sec-ch-ua-platform',
    'sec-fetch-dest',
    'sec-fetch-mode',
    'sec-fetch-site',
    'traceparent',
    'user-agent',
    'x-country',
    'x-forwarded-for',
    'x-forwarded-proto',
    'x-language',
    'x-nf-account-id',
    'x-nf-account-tier',
    'x-nf-client-connection-ip',
    'x-nf-deploy-context',
    'x-nf-deploy-id',
    'x-nf-deploy-published',
    'x-nf-geo',
    'x-nf-request-id',
    'x-nf-request-start',
    'x-nf-site-id',
    'x-nf-trace-span-id'
  ],
  bodyLength: 0,
  timestamp: '2025-08-30T23:15:14.465Z'
}
Aug 31, 07:15:14 AM: 5611933e INFO   Serverless function called: GET /api/auth/me
Aug 31, 07:15:14 AM: 5611933e INFO   Processing: GET /api/auth/me
Aug 31, 07:15:14 AM: 5611933e INFO   TOKEN VALIDATION: Checking token data: {
  hasId: true,
  hasUsername: true,
  isValid: true,
  loginTime: 1756595133193
}
Aug 31, 07:15:14 AM: 5611933e INFO   üîç Executing query: { sql: 'SELECT * FROM users WHERE id = $1...', paramCount: 1 }
Aug 31, 07:15:14 AM: 5611933e INFO   ‚úÖ Query successful, rows returned: 1
Aug 31, 07:15:14 AM: 5611933e Duration: 7.69 ms	Memory Usage: 129 MB
Aug 31, 07:15:14 AM: 7e615005 INFO   üöÄ Netlify function invoked: {
  method: 'GET',
  path: '/api/analytics',
  headers: [
    'accept',
    'accept-encoding',
    'accept-language',
    'authorization',
    'cdn-loop',
    'host',
    'netlify-agent-category',
    'netlify-invocation-source',
    'priority',
    'referer',
    'sec-ch-ua',
    'sec-ch-ua-mobile',
    'sec-ch-ua-platform',
    'sec-fetch-dest',
    'sec-fetch-mode',
    'sec-fetch-site',
    'traceparent',
    'user-agent',
    'x-country',
    'x-forwarded-for',
    'x-forwarded-proto',
    'x-language',
    'x-nf-account-id',
    'x-nf-account-tier',
    'x-nf-client-connection-ip',
    'x-nf-deploy-context',
    'x-nf-deploy-id',
    'x-nf-deploy-published',
    'x-nf-geo',
    'x-nf-request-id',
    'x-nf-request-start',
    'x-nf-site-id',
    'x-nf-trace-span-id'
  ],
  bodyLength: 0,
  timestamp: '2025-08-30T23:15:14.481Z'
}
Aug 31, 07:15:14 AM: 7e615005 INFO   Serverless function called: GET /api/analytics
Aug 31, 07:15:14 AM: 7e615005 INFO   Processing: GET /api/analytics
Aug 31, 07:15:14 AM: 7e615005 INFO   üìñ Getting messages from instance 4fwwjcoafu7: 0 messages
Aug 31, 07:15:14 AM: 7e615005 Duration: 2.61 ms	Memory Usage: 129 MB
Aug 31, 07:15:14 AM: INFO   üÜî New storage instance created: rjoqy7jpi1
Aug 31, 07:15:14 AM: INFO   üîÑ Initializing storage instance: rjoqy7jpi1
Aug 31, 07:15:14 AM: INFO   üÜî New storage instance created: h7v2rmmtvbf
Aug 31, 07:15:14 AM: INFO   üîÑ Initializing storage instance: h7v2rmmtvbf
Aug 31, 07:15:14 AM: INFO   üÜî New storage instance created: s7jnajo09hk
Aug 31, 07:15:14 AM: INFO   üîÑ Initializing storage instance: s7jnajo09hk
Aug 31, 07:15:27 AM: b855411b INFO   üöÄ Netlify function invoked: {
  method: 'POST',
  path: '/api/users',
  headers: [
    'accept',
    'accept-encoding',
    'accept-language',
    'authorization',
    'cdn-loop',
    'content-length',
    'content-type',
    'host',
    'netlify-agent-category',
    'netlify-invocation-source',
    'origin',
    'priority',
    'referer',
    'sec-ch-ua',
    'sec-ch-ua-mobile',
    'sec-ch-ua-platform',
    'sec-fetch-dest',
    'sec-fetch-mode',
    'sec-fetch-site',
    'traceparent',
    'user-agent',
    'x-country',
    'x-forwarded-for',
    'x-forwarded-proto',
    'x-language',
    'x-nf-account-id',
    'x-nf-account-tier',
    'x-nf-client-connection-ip',
    'x-nf-deploy-context',
    'x-nf-deploy-id',
    'x-nf-deploy-published',
    'x-nf-geo',
    'x-nf-request-id',
    'x-nf-request-start',
    'x-nf-site-id',
    'x-nf-trace-span-id'
  ],
  bodyLength: 52,
  timestamp: '2025-08-30T23:15:27.637Z'
}
Aug 31, 07:15:27 AM: b855411b INFO   Serverless function called: POST /api/users
Aug 31, 07:15:27 AM: b855411b INFO   Processing: POST /api/users
Aug 31, 07:15:27 AM: b855411b INFO   User creation request: { username: 'blessedumc', passwordLength: 13 }
Aug 31, 07:15:27 AM: b855411b INFO   üîç Executing query: { sql: 'SELECT id FROM users WHERE username = $1...', paramCount: 1 }
Aug 31, 07:15:27 AM: b855411b INFO   ‚úÖ Query successful, rows returned: 0
Aug 31, 07:15:28 AM: b855411b INFO   Creating new user: blessedumc
Aug 31, 07:15:28 AM: b855411b INFO   üîç Executing query: {
  sql: 'INSERT INTO users (username, password) VALUES ($1, $2) RETURNING id, username...',
  paramCount: 2
}
Aug 31, 07:15:28 AM: b855411b INFO   ‚úÖ Query successful, rows returned: 1
Aug 31, 07:15:28 AM: b855411b INFO   ‚úÖ User created successfully: { id: 'ea7946a2-c5a1-4a85-a346-2a25c798da04', username: 'blessedumc' }
Aug 31, 07:15:28 AM: b855411b Duration: 530.95 ms	Memory Usage: 129 MB
Aug 31, 07:15:28 AM: eef1992a INFO   üöÄ Netlify function invoked: {
  method: 'GET',
  path: '/api/users',
  headers: [
    'accept',
    'accept-encoding',
    'accept-language',
    'authorization',
    'cdn-loop',
    'host',
    'netlify-agent-category',
    'netlify-invocation-source',
    'priority',
    'referer',
    'sec-ch-ua',
    'sec-ch-ua-mobile',
    'sec-ch-ua-platform',
    'sec-fetch-dest',
    'sec-fetch-mode',
    'sec-fetch-site',
    'traceparent',
    'user-agent',
    'x-country',
    'x-forwarded-for',
    'x-forwarded-proto',
    'x-language',
    'x-nf-account-id',
    'x-nf-account-tier',
    'x-nf-client-connection-ip',
    'x-nf-deploy-context',
    'x-nf-deploy-id',
    'x-nf-deploy-published',
    'x-nf-geo',
    'x-nf-request-id',
    'x-nf-request-start',
    'x-nf-site-id',
    'x-nf-trace-span-id'
  ],
  bodyLength: 0,
  timestamp: '2025-08-30T23:15:28.502Z'
}
Aug 31, 07:15:28 AM: eef1992a INFO   Serverless function called: GET /api/users
Aug 31, 07:15:28 AM: eef1992a INFO   Processing: GET /api/users
Aug 31, 07:15:28 AM: eef1992a INFO   üìñ Fetching users from database...
Aug 31, 07:15:28 AM: eef1992a INFO   üîç Executing query: {
  sql: '\n' +
    '          SELECT id, username\n' +
    '          FROM users\n' +
    '          ORDER BY username\n' +
    '        ...',
  paramCount: 0
}
Aug 31, 07:15:28 AM: eef1992a INFO   ‚úÖ Query successful, rows returned: 2
Aug 31, 07:15:28 AM: eef1992a INFO   ‚úÖ Retrieved 2 users from database
Aug 31, 07:15:28 AM: eef1992a Duration: 30.95 ms	Memory Usage: 129 MB
Aug 31, 07:15:45 AM: 75c25e53 INFO   üöÄ Netlify function invoked: {
  method: 'GET',
  path: '/api/auth/me',
  headers: [
    'accept',
    'accept-encoding',
    'accept-language',
    'authorization',
    'cdn-loop',
    'host',
    'netlify-agent-category',
    'netlify-invocation-source',
    'priority',
    'referer',
    'sec-ch-ua',
    'sec-ch-ua-mobile',
    'sec-ch-ua-platform',
    'sec-fetch-dest',
    'sec-fetch-mode',
    'sec-fetch-site',
    'traceparent',
    'user-agent',
    'x-country',
    'x-forwarded-for',
    'x-forwarded-proto',
    'x-language',
    'x-nf-account-id',
    'x-nf-account-tier',
    'x-nf-client-connection-ip',
    'x-nf-deploy-context',
    'x-nf-deploy-id',
    'x-nf-deploy-published',
    'x-nf-geo',
    'x-nf-request-id',
    'x-nf-request-start',
    'x-nf-site-id',
    'x-nf-trace-span-id'
  ],
  bodyLength: 0,
  timestamp: '2025-08-30T23:15:45.612Z'
}
Aug 31, 07:15:45 AM: 75c25e53 INFO   Serverless function called: GET /api/auth/me
Aug 31, 07:15:45 AM: 75c25e53 INFO   Processing: GET /api/auth/me
Aug 31, 07:15:45 AM: 75c25e53 INFO   TOKEN VALIDATION: Checking token data: {
  hasId: true,
  hasUsername: true,
  isValid: true,
  loginTime: 1756595133193
}
Aug 31, 07:15:45 AM: 75c25e53 INFO   üîç Executing query: { sql: 'SELECT * FROM users WHERE id = $1...', paramCount: 1 }
Aug 31, 07:15:45 AM: 75c25e53 INFO   ‚úÖ Query successful, rows returned: 1
Aug 31, 07:15:45 AM: 75c25e53 Duration: 21.16 ms	Memory Usage: 129 MB
Aug 31, 07:15:46 AM: e5990982 INFO   üöÄ Netlify function invoked: {
  method: 'GET',
  path: '/api/auth/me',
  headers: [
    'accept',
    'accept-encoding',
    'accept-language',
    'authorization',
    'cdn-loop',
    'host',
    'netlify-agent-category',
    'netlify-invocation-source',
    'priority',
    'referer',
    'sec-ch-ua',
    'sec-ch-ua-mobile',
    'sec-ch-ua-platform',
    'sec-fetch-dest',
    'sec-fetch-mode',
    'sec-fetch-site',
    'traceparent',
    'user-agent',
    'x-country',
    'x-forwarded-for',
    'x-forwarded-proto',
    'x-language',
    'x-nf-account-id',
    'x-nf-account-tier',
    'x-nf-client-connection-ip',
    'x-nf-deploy-context',
    'x-nf-deploy-id',
    'x-nf-deploy-published',
    'x-nf-geo',
    'x-nf-request-id',
    'x-nf-request-start',
    'x-nf-site-id',
    'x-nf-trace-span-id'
  ],
  bodyLength: 0,
  timestamp: '2025-08-30T23:15:46.101Z'
}
Aug 31, 07:15:46 AM: e5990982 INFO   Serverless function called: GET /api/auth/me
Aug 31, 07:15:46 AM: e5990982 INFO   Processing: GET /api/auth/me
Aug 31, 07:15:46 AM: e5990982 INFO   TOKEN VALIDATION: Checking token data: {
  hasId: true,
  hasUsername: true,
  isValid: true,
  loginTime: 1756595133193
}
Aug 31, 07:15:46 AM: e5990982 INFO   üîç Executing query: { sql: 'SELECT * FROM users WHERE id = $1...', paramCount: 1 }
Aug 31, 07:15:46 AM: e5990982 INFO   ‚úÖ Query successful, rows returned: 1
Aug 31, 07:15:46 AM: e5990982 Duration: 7.17 ms	Memory Usage: 129 MB
Aug 31, 07:15:46 AM: 64bc19fa INFO   üöÄ Netlify function invoked: {
  method: 'GET',
  path: '/api/analytics',
  headers: [
    'accept',
    'accept-encoding',
    'accept-language',
    'authorization',
    'cdn-loop',
    'host',
    'netlify-agent-category',
    'netlify-invocation-source',
    'priority',
    'referer',
    'sec-ch-ua',
    'sec-ch-ua-mobile',
    'sec-ch-ua-platform',
    'sec-fetch-dest',
    'sec-fetch-mode',
    'sec-fetch-site',
    'traceparent',
    'user-agent',
    'x-country',
    'x-forwarded-for',
    'x-forwarded-proto',
    'x-language',
    'x-nf-account-id',
    'x-nf-account-tier',
    'x-nf-client-connection-ip',
    'x-nf-deploy-context',
    'x-nf-deploy-id',
    'x-nf-deploy-published',
    'x-nf-geo',
    'x-nf-request-id',
    'x-nf-request-start',
    'x-nf-site-id',
    'x-nf-trace-span-id'
  ],
  bodyLength: 0,
  timestamp: '2025-08-30T23:15:46.452Z'
}
Aug 31, 07:15:46 AM: 64bc19fa INFO   Serverless function called: GET /api/analytics
Aug 31, 07:15:46 AM: 64bc19fa INFO   Processing: GET /api/analytics
Aug 31, 07:15:46 AM: 64bc19fa INFO   üìñ Getting messages from instance 4fwwjcoafu7: 0 messages
Aug 31, 07:15:46 AM: 64bc19fa Duration: 2.22 ms	Memory Usage: 129 MB
Aug 31, 07:15:46 AM: cf215459 INFO   üöÄ Netlify function invoked: {
  method: 'GET',
  path: '/api/users',
  headers: [
    'accept',
    'accept-encoding',
    'accept-language',
    'authorization',
    'cdn-loop',
    'host',
    'netlify-agent-category',
    'netlify-invocation-source',
    'priority',
    'referer',
    'sec-ch-ua',
    'sec-ch-ua-mobile',
    'sec-ch-ua-platform',
    'sec-fetch-dest',
    'sec-fetch-mode',
    'sec-fetch-site',
    'traceparent',
    'user-agent',
    'x-country',
    'x-forwarded-for',
    'x-forwarded-proto',
    'x-language',
    'x-nf-account-id',
    'x-nf-account-tier',
    'x-nf-client-connection-ip',
    'x-nf-deploy-context',
    'x-nf-deploy-id',
    'x-nf-deploy-published',
    'x-nf-geo',
    'x-nf-request-id',
    'x-nf-request-start',
    'x-nf-site-id',
    'x-nf-trace-span-id'
  ],
  bodyLength: 0,
  timestamp: '2025-08-30T23:15:46.455Z'
}
Aug 31, 07:15:46 AM: bc81b6f2 INFO   üöÄ Netlify function invoked: {
  method: 'GET',
  path: '/api/contact-messages',
  headers: [
    'accept',
    'accept-encoding',
    'accept-language',
    'authorization',
    'cdn-loop',
    'host',
    'netlify-agent-category',
    'netlify-invocation-source',
    'priority',
    'referer',
    'sec-ch-ua',
    'sec-ch-ua-mobile',
    'sec-ch-ua-platform',
    'sec-fetch-dest',
    'sec-fetch-mode',
    'sec-fetch-site',
    'traceparent',
    'user-agent',
    'x-country',
    'x-forwarded-for',
    'x-forwarded-proto',
    'x-language',
    'x-nf-account-id',
    'x-nf-account-tier',
    'x-nf-client-connection-ip',
    'x-nf-deploy-context',
    'x-nf-deploy-id',
    'x-nf-deploy-published',
    'x-nf-geo',
    'x-nf-request-id',
    'x-nf-request-start',
    'x-nf-site-id',
    'x-nf-trace-span-id'
  ],
  bodyLength: 0,
  timestamp: '2025-08-30T23:15:46.456Z'
}
Aug 31, 07:15:46 AM: cf215459 INFO   Serverless function called: GET /api/users
Aug 31, 07:15:46 AM: cf215459 INFO   Processing: GET /api/users
Aug 31, 07:15:46 AM: cf215459 INFO   üîç Environment check: {
  hasDatabaseUrl: true,
  urlLength: 116,
  urlStart: 'postgresql://neondb_'
}
Aug 31, 07:15:46 AM: 0e378792 INFO   üöÄ Netlify function invoked: {
  method: 'GET',
  path: '/api/auth/me',
  headers: [
    'accept',
    'accept-encoding',
    'accept-language',
    'authorization',
    'cdn-loop',
    'host',
    'netlify-agent-category',
    'netlify-invocation-source',
    'priority',
    'referer',
    'sec-ch-ua',
    'sec-ch-ua-mobile',
    'sec-ch-ua-platform',
    'sec-fetch-dest',
    'sec-fetch-mode',
    'sec-fetch-site',
    'traceparent',
    'user-agent',
    'x-country',
    'x-forwarded-for',
    'x-forwarded-proto',
    'x-language',
    'x-nf-account-id',
    'x-nf-account-tier',
    'x-nf-client-connection-ip',
    'x-nf-deploy-context',
    'x-nf-deploy-id',
    'x-nf-deploy-published',
    'x-nf-geo',
    'x-nf-request-id',
    'x-nf-request-start',
    'x-nf-site-id',
    'x-nf-trace-span-id'
  ],
  bodyLength: 0,
  timestamp: '2025-08-30T23:15:46.458Z'
}
Aug 31, 07:15:46 AM: bc81b6f2 INFO   Serverless function called: GET /api/contact-messages
Aug 31, 07:15:46 AM: cf215459 INFO   üîå Attempting to connect to Neon database via HTTP...
Aug 31, 07:15:46 AM: bc81b6f2 INFO   Processing: GET /api/contact-messages
Aug 31, 07:15:46 AM: bc81b6f2 INFO   üîç Starting message retrieval process...
Aug 31, 07:15:46 AM: bc81b6f2 INFO   üîç Environment check: {
  hasDatabaseUrl: true,
  urlLength: 116,
  urlStart: 'postgresql://neondb_'
}
Aug 31, 07:15:46 AM: bc81b6f2 INFO   üîå Attempting to connect to Neon database via HTTP...
Aug 31, 07:15:46 AM: 0e378792 INFO   Serverless function called: GET /api/auth/me
Aug 31, 07:15:46 AM: 0e378792 INFO   Processing: GET /api/auth/me
Aug 31, 07:15:46 AM: 0e378792 INFO   TOKEN VALIDATION: Checking token data: {
  hasId: true,
  hasUsername: true,
  isValid: true,
  loginTime: 1756595133193
}
Aug 31, 07:15:46 AM: 0e378792 INFO   üîç Environment check: {
  hasDatabaseUrl: true,
  urlLength: 116,
  urlStart: 'postgresql://neondb_'
}
Aug 31, 07:15:46 AM: 0e378792 INFO   üîå Attempting to connect to Neon database via HTTP...
Aug 31, 07:15:46 AM: bc81b6f2 INFO   üß™ Testing database connection...
Aug 31, 07:15:46 AM: cf215459 INFO   üß™ Testing database connection...
Aug 31, 07:15:46 AM: 0e378792 INFO   üß™ Testing database connection...
Aug 31, 07:15:46 AM: 0e378792 INFO   ‚úÖ Database connection test successful: { current_time: 2025-08-30T23:15:46.848Z }
Aug 31, 07:15:46 AM: 0e378792 INFO   üîç Verifying contact_messages table exists...
Aug 31, 07:15:46 AM: 0e378792 INFO   üîç Executing query: {
  sql: '\n' +
    '      SELECT EXISTS (\n' +
    '        SELECT FROM information_schema.tables \n' +
    "        WHERE table_schema = '...",
  paramCount: 0
}
Aug 31, 07:15:46 AM: cf215459 INFO   ‚úÖ Database connection test successful: { current_time: 2025-08-30T23:15:46.861Z }
Aug 31, 07:15:46 AM: cf215459 INFO   üîç Verifying contact_messages table exists...
Aug 31, 07:15:46 AM: cf215459 INFO   üîç Executing query: {
  sql: '\n' +
    '      SELECT EXISTS (\n' +
    '        SELECT FROM information_schema.tables \n' +
    "        WHERE table_schema = '...",
  paramCount: 0
}
Aug 31, 07:15:46 AM: bc81b6f2 INFO   ‚úÖ Database connection test successful: { current_time: 2025-08-30T23:15:46.884Z }
Aug 31, 07:15:46 AM: bc81b6f2 INFO   üîç Verifying contact_messages table exists...
Aug 31, 07:15:46 AM: bc81b6f2 INFO   üîç Executing query: {
  sql: '\n' +
    '      SELECT EXISTS (\n' +
    '        SELECT FROM information_schema.tables \n' +
    "        WHERE table_schema = '...",
  paramCount: 0
}
Aug 31, 07:15:46 AM: 0e378792 INFO   ‚úÖ Query successful, rows returned: 1
Aug 31, 07:15:46 AM: 0e378792 INFO   üìä Table existence check: { exists: true }
Aug 31, 07:15:46 AM: 0e378792 INFO   üîç Verifying users table exists...
Aug 31, 07:15:46 AM: 0e378792 INFO   üîç Executing query: {
  sql: '\n' +
    '      SELECT EXISTS (\n' +
    '        SELECT FROM information_schema.tables \n' +
    "        WHERE table_schema = '...",
  paramCount: 0
}
Aug 31, 07:15:46 AM: 0e378792 INFO   ‚úÖ Query successful, rows returned: 1
Aug 31, 07:15:46 AM: cf215459 INFO   ‚úÖ Query successful, rows returned: 1
Aug 31, 07:15:46 AM: cf215459 INFO   üìä Table existence check: { exists: true }
Aug 31, 07:15:46 AM: cf215459 INFO   üîç Verifying users table exists...
Aug 31, 07:15:46 AM: cf215459 INFO   üîç Executing query: {
  sql: '\n' +
    '      SELECT EXISTS (\n' +
    '        SELECT FROM information_schema.tables \n' +
    "        WHERE table_schema = '...",
  paramCount: 0
}
Aug 31, 07:15:46 AM: 0e378792 INFO   üìä Users table existence check: { exists: true }
Aug 31, 07:15:46 AM: 0e378792 INFO   ‚úÖ Database connection established and verified
Aug 31, 07:15:46 AM: 0e378792 INFO   üîç Executing query: { sql: 'SELECT * FROM users WHERE id = $1...', paramCount: 1 }
Aug 31, 07:15:46 AM: 0e378792 INFO   ‚úÖ Query successful, rows returned: 1
Aug 31, 07:15:46 AM: cf215459 INFO   ‚úÖ Query successful, rows returned: 1
Aug 31, 07:15:46 AM: cf215459 INFO   üìä Users table existence check: { exists: true }
Aug 31, 07:15:46 AM: cf215459 INFO   ‚úÖ Database connection established and verified
Aug 31, 07:15:46 AM: cf215459 INFO   üìñ Fetching users from database...
Aug 31, 07:15:46 AM: cf215459 INFO   üîç Executing query: {
  sql: '\n' +
    '          SELECT id, username\n' +
    '          FROM users\n' +
    '          ORDER BY username\n' +
    '        ...',
  paramCount: 0
}
Aug 31, 07:15:46 AM: bc81b6f2 INFO   ‚úÖ Query successful, rows returned: 1
Aug 31, 07:15:46 AM: bc81b6f2 INFO   üìä Table existence check: { exists: true }
Aug 31, 07:15:46 AM: bc81b6f2 INFO   üîç Verifying users table exists...
Aug 31, 07:15:46 AM: bc81b6f2 INFO   üîç Executing query: {
  sql: '\n' +
    '      SELECT EXISTS (\n' +
    '        SELECT FROM information_schema.tables \n' +
    "        WHERE table_schema = '...",
  paramCount: 0
}
Aug 31, 07:15:46 AM: cf215459 INFO   ‚úÖ Query successful, rows returned: 2
Aug 31, 07:15:46 AM: cf215459 INFO   ‚úÖ Retrieved 2 users from database
Aug 31, 07:15:46 AM: 0e378792 Duration: 511.32 ms	Memory Usage: 108 MB
Aug 31, 07:15:46 AM: cf215459 Duration: 520.39 ms	Memory Usage: 109 MB
Aug 31, 07:15:46 AM: bc81b6f2 INFO   ‚úÖ Query successful, rows returned: 1
Aug 31, 07:15:46 AM: bc81b6f2 INFO   üìä Users table existence check: { exists: true }
Aug 31, 07:15:46 AM: bc81b6f2 INFO   ‚úÖ Database connection established and verified
Aug 31, 07:15:46 AM: bc81b6f2 INFO   üìñ Fetching contact messages from Neon database
Aug 31, 07:15:46 AM: bc81b6f2 INFO   üîç Executing query: {
  sql: 'SELECT COUNT(*) as count FROM contact_messages...',
  paramCount: 0
}
Aug 31, 07:15:46 AM: bc81b6f2 INFO   ‚úÖ Query successful, rows returned: 1
Aug 31, 07:15:46 AM: bc81b6f2 INFO   üìä Database row count: 3
Aug 31, 07:15:46 AM: bc81b6f2 INFO   üîç Executing query: {
  sql: '\n' +
    '      SELECT id, first_name as "firstName", last_name as "lastName", \n' +
    '             email, phone, su...',
  paramCount: 0
}
Aug 31, 07:15:47 AM: bc81b6f2 INFO   ‚úÖ Query successful, rows returned: 3
Aug 31, 07:15:47 AM: bc81b6f2 INFO   ‚úÖ Retrieved 3 messages from database: [
  {
    id: '7fffc1c9-7609-451b-8a14-80e8620a4cf1',
    from: 'danielreignelomedaaustria@gmail.com',
    subject: 'visit',
    createdAt: 2025-08-30T23:07:20.315Z
  },
  {
    id: '76cb500c-31e9-46e5-ab07-b4351bad18de',
    from: 'danielreignelomedaaustria@gmail.com',
    subject: 'visit',
    createdAt: 2025-08-30T19:09:43.779Z
  },
  {
    id: 'b94fe661-d7c6-4f69-a10e-828918a30f97',
    from: 'danielreignelomedaaustria@gmail.com',
    subject: 'pastoral',
    createdAt: 2025-08-29T23:17:07.957Z
  }
]
Aug 31, 07:15:47 AM: bc81b6f2 INFO   üìä Messages retrieved: {
  count: 3,
  source: 'database',
  firstMessage: {
    id: '7fffc1c9-7609-451b-8a14-80e8620a4cf1',
    from: 'danielreignelomedaaustria@gmail.com',
    subject: 'visit'
  }
}
Aug 31, 07:15:47 AM: bc81b6f2 INFO   üìñ GET /contact-messages - Reading from database: {
  totalMessages: 3,
  messageIds: [
    {
      id: '7fffc1c9-7609-451b-8a14-80e8620a4cf1',
      from: 'danielreignelomedaaustria@gmail.com'
    },
    {
      id: '76cb500c-31e9-46e5-ab07-b4351bad18de',
      from: 'danielreignelomedaaustria@gmail.com'
    },
    {
      id: 'b94fe661-d7c6-4f69-a10e-828918a30f97',
      from: 'danielreignelomedaaustria@gmail.com'
    }
  ],
  sortedCount: 3,
  latest: 2025-08-30T23:07:20.315Z,
  source: 'database'
}
Aug 31, 07:15:47 AM: bc81b6f2 Duration: 580.35 ms	Memory Usage: 109 MB
Aug 31, 07:15:48 AM: ee233393 INFO   üöÄ Netlify function invoked: {
  method: 'GET',
  path: '/api/auth/me',
  headers: [
    'accept',
    'accept-encoding',
    'accept-language',
    'authorization',
    'cdn-loop',
    'host',
    'netlify-agent-category',
    'netlify-invocation-source',
    'priority',
    'referer',
    'sec-ch-ua',
    'sec-ch-ua-mobile',
    'sec-ch-ua-platform',
    'sec-fetch-dest',
    'sec-fetch-mode',
    'sec-fetch-site',
    'traceparent',
    'user-agent',
    'x-country',
    'x-forwarded-for',
    'x-forwarded-proto',
    'x-language',
    'x-nf-account-id',
    'x-nf-account-tier',
    'x-nf-client-connection-ip',
    'x-nf-deploy-context',
    'x-nf-deploy-id',
    'x-nf-deploy-published',
    'x-nf-geo',
    'x-nf-request-id',
    'x-nf-request-start',
    'x-nf-site-id',
    'x-nf-trace-span-id'
  ],
  bodyLength: 0,
  timestamp: '2025-08-30T23:15:48.386Z'
}
Aug 31, 07:15:48 AM: ee233393 INFO   Serverless function called: GET /api/auth/me
Aug 31, 07:15:48 AM: ee233393 INFO   Processing: GET /api/auth/me
Aug 31, 07:15:48 AM: ee233393 INFO   TOKEN VALIDATION: Checking token data: {
  hasId: true,
  hasUsername: true,
  isValid: true,
  loginTime: 1756595133193
}
Aug 31, 07:15:48 AM: ee233393 INFO   üîç Executing query: { sql: 'SELECT * FROM users WHERE id = $1...', paramCount: 1 }
Aug 31, 07:15:48 AM: ee233393 INFO   ‚úÖ Query successful, rows returned: 1
Aug 31, 07:15:48 AM: ee233393 Duration: 10.05 ms	Memory Usage: 109 MB
Aug 31, 07:15:56 AM: 531bf9ae INFO   üöÄ Netlify function invoked: {
  method: 'POST',
  path: '/api/auth/login',
  headers: [
    'accept',
    'accept-encoding',
    'accept-language',
    'cdn-loop',
    'content-length',
    'content-type',
    'host',
    'netlify-agent-category',
    'netlify-invocation-source',
    'origin',
    'priority',
    'referer',
    'sec-ch-ua',
    'sec-ch-ua-mobile',
    'sec-ch-ua-platform',
    'sec-fetch-dest',
    'sec-fetch-mode',
    'sec-fetch-site',
    'traceparent',
    'user-agent',
    'x-country',
    'x-forwarded-for',
    'x-forwarded-proto',
    'x-language',
    'x-nf-account-id',
    'x-nf-account-tier',
    'x-nf-client-connection-ip',
    'x-nf-deploy-context',
    'x-nf-deploy-id',
    'x-nf-deploy-published',
    'x-nf-geo',
    'x-nf-request-id',
    'x-nf-request-start',
    'x-nf-site-id',
    'x-nf-trace-span-id'
  ],
  bodyLength: 52,
  timestamp: '2025-08-30T23:15:56.035Z'
}
Aug 31, 07:15:56 AM: 531bf9ae INFO   Serverless function called: POST /api/auth/login
Aug 31, 07:15:56 AM: 531bf9ae INFO   Processing: POST /api/auth/login
Aug 31, 07:15:56 AM: 531bf9ae INFO   LOGIN ENDPOINT: Received login attempt for username: blessedumc
Aug 31, 07:15:56 AM: 531bf9ae INFO   AUTH: Attempting login for: blessedumc
Aug 31, 07:15:56 AM: 531bf9ae INFO   üîç Executing query: { sql: 'SELECT * FROM users WHERE username = $1...', paramCount: 1 }
Aug 31, 07:15:56 AM: 531bf9ae INFO   ‚úÖ Query successful, rows returned: 1
Aug 31, 07:15:56 AM: 531bf9ae INFO   AUTH: Database authentication successful for user: blessedumc
Aug 31, 07:15:56 AM: 531bf9ae INFO   LOGIN ENDPOINT: SUCCESS - Token created for user: blessedumc
Aug 31, 07:15:56 AM: 531bf9ae Duration: 758.04 ms	Memory Usage: 132 MB
Aug 31, 07:15:57 AM: b5fe2dcf INFO   üöÄ Netlify function invoked: {
  method: 'GET',
  path: '/api/auth/me',
  headers: [
    'accept',
    'accept-encoding',
    'accept-language',
    'authorization',
    'cdn-loop',
    'host',
    'netlify-agent-category',
    'netlify-invocation-source',
    'priority',
    'referer',
    'sec-ch-ua',
    'sec-ch-ua-mobile',
    'sec-ch-ua-platform',
    'sec-fetch-dest',
    'sec-fetch-mode',
    'sec-fetch-site',
    'traceparent',
    'user-agent',
    'x-country',
    'x-forwarded-for',
    'x-forwarded-proto',
    'x-language',
    'x-nf-account-id',
    'x-nf-account-tier',
    'x-nf-client-connection-ip',
    'x-nf-deploy-context',
    'x-nf-deploy-id',
    'x-nf-deploy-published',
    'x-nf-geo',
    'x-nf-request-id',
    'x-nf-request-start',
    'x-nf-site-id',
    'x-nf-trace-span-id'
  ],
  bodyLength: 0,
  timestamp: '2025-08-30T23:15:57.122Z'
}
Aug 31, 07:15:57 AM: b5fe2dcf INFO   Serverless function called: GET /api/auth/me
Aug 31, 07:15:57 AM: b5fe2dcf INFO   Processing: GET /api/auth/me
Aug 31, 07:15:57 AM: b5fe2dcf INFO   TOKEN VALIDATION: Checking token data: {
  hasId: true,
  hasUsername: true,
  isValid: true,
  loginTime: 1756595756781
}
Aug 31, 07:15:57 AM: b5fe2dcf INFO   TOKEN VALIDATION: REJECTED - Invalid username in token
Aug 31, 07:15:57 AM: b5fe2dcf ERROR  Token validation error: Error: Invalid user credentials
    at Runtime.handler (/var/task/netlify/functions/api.js:550:19)
    at Runtime.handleOnceNonStreaming (file:///var/runtime/index.mjs:1206:29)
Aug 31, 07:15:57 AM: b5fe2dcf Duration: 3.37 ms	Memory Usage: 132 MB